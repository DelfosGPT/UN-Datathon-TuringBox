# Personalized Route Recommendation System

This repository contains the code and tools for a tourist route recommendation service. Its goal is to provide personalized routes based on points of interest stored in a vector database, automatically populated through a scraper that extracts information from Google Maps. Users interact with the system by selecting categories and preferences, and the system provides the best routes based on these choices.

## Functionality

The application offers personalized recommendations for tourist routes or points of interest based on user preferences, such as:

- Type of company (family, friends, couple, solo)
- Categories of points of interest (restaurants, parks, museums, theaters, etc.)
- Location and proximity of points of interest

The system leverages a vector database storing points of interest (POIs) from Google Maps, which are added through a scraper. It uses natural language processing and machine learning technologies to generate relevant responses and recommendations.

### Key Features

- **Data Filtering and Enrichment**: POI data is cleaned and enriched before processing.
- **Personalized Recommendation**: The system tailors recommendations based on user profile and preferences.
- **Scalability**: Utilizes vector databases to efficiently handle large data volumes.
- **User Interaction**: The system interacts dynamically with users, prompting them to make choices to refine recommendations.

## Technologies Used

- **Python**: Main language for system development.
- **Pandas**: Used for data processing and manipulation.
- **Selenium**: Used to scrape data from web pages.
- **Chroma**: Vector database for storing and querying points of interest.
- **Boto3**: AWS library to interact with the AWS Bedrock service.
- **Google Maps API**: Data source for points of interest via a scraper.
- **Machine Learning**: Algorithms for personalized recommendations.
- **RESTful APIs**: For backend interaction (Chroma and Bedrock APIs).

## Project Structure

Below is a description of the project’s file structure and the purpose of each component:

### 1. **Scraper and Data Loading**

- **`scrapping.ipynb`**: Scrapes points of interest from Google Maps and uploads the data to the vector database. Output can be found in `./data/output/places/placesn.csv`, where "n" is the iteration number in which the scraper was run.
- **`cleaning_data.ipynb`**: Notebook that processes, merges, and filters POI data to generate the final dataset. This file applies transformations such as Bayesian scoring and extraction of relevant search parameters.

### 2. **Data Processing**

- **`pois_augmentation.py`**: Data augmentation process using prompt engineering with the Bedrock API, using the Claude 3.5 model. It returns a JSON file with descriptions of each location, which are then consumed by the vector database in `./data/output/augmented/augmented_pois.json`.
- **`ingest.py`**: Process for ingesting POI data into the vector database (Chroma) along with its metadata.

### 3. **Recommendation System**

- **`user_context.py`**: Interacts with the AI model (Claude) to obtain the user profile based on questions generated by Claude and provides personalized responses based on enhanced context, tailoring recommendations to their preferences. It returns a user profile text file `./data/output/user_profile/profile.txt`.
- **`query.py`**: Queries the vector database and generates POI recommendations based on the user's profile. It also assigns weights to neighborhoods to diversify the recommended points of interest more effectively, providing a total of 9 POIs distributed across 3 neighborhoods in Medellín. The output is `./data/output/recomended_pois/top3_places.csv`.

### 4. **Routing System**

- **`route_recommender.py`**: Connects to the GCP routing service to provide clear directions on how to navigate the city, preferably using public transportation, and gives clear instructions on moving between points of interest. It returns the file `./data/output/routes/route_recommender.txt`.
